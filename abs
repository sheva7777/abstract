基于GPON的ONU报文传输系统的研究与设计

摘要
随着电信产业的迅猛发展，以及网络用户的急剧增长，光纤接入网作为骨干网与用户之间的桥梁，面临着巨大的机遇和挑战。GPON技术具有宽带大，传输距离远，可靠性高等特点，成为光接入网的一种常用的解决方案。同时，网络的不断扩大，以及视频通话、大型网游等业务的迅猛发展，使用户对低延时的要求越来越高。如何充分利用已有的GPON光纤接入网设备来提高业务的服务质量已成为运营商和电信专家的重要课题。传统的ONU设备只是做简单的业务调度，并不能满足现在用户对低时延的需求。因此对GPON上行报文传输系统的研究具有重要的意义。
本文在对无源光网络发展历程和现有GPON上行传输系统进行研究的基础上，重点对ONU上行出端口模块进行了深入的研究。主要工作如下：
（1）本文在对。。进行研究的基础上，对光纤到户项目进行了需求分析。在需求分析的基础上，设计了ONU上行报文传输系统，并介绍了该系统各个模块的主要功能。本文将出端口模块划分成EQM（出口队列管理）模块和EPS（出端口调度）模块，本文重点对ONU上行出端口模块进行了研究和分析。
（2）在EQM模块，针对GPON上行对用户和业务不敏感的缺陷，特别是ONU芯片上行只对报文做简单的业务调度的问题，本文提出了一种业务优先的流量调度方案。根据系统运营要求，在详细阐述严格优先级算法、加权轮询调度算法及混合调度算法实现流程的基础上，通过对优先级较低的报文进行标记，将这些被标记的报文在EQM模块进行环回处理，重新入队，从而实现了用户级的层次化QoS（HQoS）。实验结果表明，该方案可以有效地改善指定业务或者用户的时延，并且二次入队的报文时延增量在可接受范围之内。
（3）在EPS模块，为了降低高优先级报文的时延，本文设计并实现了一种优先级绑定方案。该方案通过修改TCONT和EQM模块优先级队列的映射关系，将本来的TCONT轮询调度配置成一种绝对优先级调度（SP），从而保证上行高优先级报文的低时延传输。实验结果表明，高优先级报文的时延在该方案下有了显著的降低。
（4）设计并搭建仿真系统和测试平台，编写脚本对设计的ONU上行报文传输系统进行了实验测试，测试结果表明该模块的可靠性达到了工程应用的标准。
最后，针对论文的研究内容及实现方法，探讨了可优化完善的几个方面，并得出了新的研究方向。

1 绪论
1.1	研究背景及意义
1.2	当前研究现状（已有的研究成果和存在的主要问题）
1.3	论文研究内容及结构安排（本文所做的主要工作）
1.4 本章小结
2	ONU报文调度系统需求及总体方案设计
知识背景
需求分析
搭系统
2.1 ONU芯片报文调度系统需求分析
2.2 ONU芯片总体设计方案
2.3 ONU芯片上行出端口模块总体设计方案
2.4 本章小结
3 ONU上行出端口模块的具体设计
3.1 EQM模块的设计与实现
3.1.1 EQM模块的总体设计与实现
3.1.2 EQM模块总体设计框架
3.1.3 EQM模块具体实现方案
3.1.3.1 PBM子模块的实现方案
3.1.3.2 PDM子模块的实现方案
3.1.3.3 QS子模块的实现方案
3.2 EPS模块的设计与实现
3.2.1 EPS模块总体设计框架
3.2.2 EPS模块具体实现方案
3.2.2.1 FD_RX子模块的实现方案
3.2.2.2 DSCH子模块的实现法案
3.2.2.3 DMUX子模块的实现方案
3.2.2.4 MERGE子模块的实现方案
3.2.2.5 TX_ITF子模块的实现方案
3.3 本章小结
4 报文调度系统的优化
4.1 报文调度系统关键技术
4.2 二次入队功能的设计与实现
4.3 优先级抢占功能的设计与实现
4.4 本章小结
5 系统测试与分析
5.1 测试环境搭建
5.1.1 硬件环境
5.1.2 软件环境
5.2 测试内容及结果分析
5.2.1 报文调度系统可靠性测试
5.2.2 二次入队功能测试
5.2.3 优先级抢占功能测试
5.3 本章小结
6 总结与展望
6.1 本文工作总结
6.2 未来展望
